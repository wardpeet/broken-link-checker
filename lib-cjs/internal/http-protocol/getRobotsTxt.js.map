{"version":3,"file":"getRobotsTxt.js","names":["_reasons","require","_httpMethodsConstants","_robotsTxtGuard","_interopRequireDefault","_isurl","_robotsTxtParse","_request","e","__esModule","default","_default","url","auth","cache","options","isURL","TypeError","BLC_INVALID","URL","hash","pathname","search","stream","request","GET","guard","parse","exports","module"],"sources":["../../../lib/internal/http-protocol/getRobotsTxt.js"],"sourcesContent":["import {BLC_INVALID} from \"../reasons\";\nimport {GET} from \"http-methods-constants\";\nimport guard from \"robots-txt-guard\";\nimport isURL from \"isurl\";\nimport parse from \"robots-txt-parse\";\nimport request from \"./request\";\n\n\n\n/**\n * Download and parse a robots.txt file from a server's root path.\n * @param {URL} url\n * @param {object} auth\n * @param {URLCache} cache\n * @param {object} options\n * @throws {TypeError} non-URL\n * @returns {Promise<guard>}\n */\nexport default async (url, auth, cache, options) =>\n{\n\tif (!isURL(url))\n\t{\n\t\tthrow new TypeError(BLC_INVALID);\n\t}\n\telse\n\t{\n\t\turl = new URL(url);\n\t\turl.hash = \"\";\n\t\turl.pathname = \"/robots.txt\";\n\t\turl.search = \"\";\n\n\t\tconst {stream} = await request(url, auth, GET, cache, options);\n\n\t\t// @todo https://github.com/tc39/proposal-pipeline-operator\n\t\treturn guard(await parse(stream));\n\t}\n};\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,qBAAA,GAAAD,OAAA;AACA,IAAAE,eAAA,GAAAC,sBAAA,CAAAH,OAAA;AACA,IAAAI,MAAA,GAAAD,sBAAA,CAAAH,OAAA;AACA,IAAAK,eAAA,GAAAF,sBAAA,CAAAH,OAAA;AACA,IAAAM,QAAA,GAAAH,sBAAA,CAAAH,OAAA;AAAgC,SAAAG,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAIhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA,IAAAG,QAAA,GASe,MAAAA,CAAOC,GAAG,EAAEC,IAAI,EAAEC,KAAK,EAAEC,OAAO,KAC/C;EACC,IAAI,CAAC,IAAAC,cAAK,EAACJ,GAAG,CAAC,EACf;IACC,MAAM,IAAIK,SAAS,CAACC,oBAAW,CAAC;EACjC,CAAC,MAED;IACCN,GAAG,GAAG,IAAIO,GAAG,CAACP,GAAG,CAAC;IAClBA,GAAG,CAACQ,IAAI,GAAG,EAAE;IACbR,GAAG,CAACS,QAAQ,GAAG,aAAa;IAC5BT,GAAG,CAACU,MAAM,GAAG,EAAE;IAEf,MAAM;MAACC;IAAM,CAAC,GAAG,MAAM,IAAAC,gBAAO,EAACZ,GAAG,EAAEC,IAAI,EAAEY,yBAAG,EAAEX,KAAK,EAAEC,OAAO,CAAC;;IAE9D;IACA,OAAO,IAAAW,uBAAK,EAAC,MAAM,IAAAC,uBAAK,EAACJ,MAAM,CAAC,CAAC;EAClC;AACD,CAAC;AAAAK,OAAA,CAAAlB,OAAA,GAAAC,QAAA;AAAAkB,MAAA,CAAAD,OAAA,GAAAA,OAAA,CAAAlB,OAAA","ignoreList":[]}